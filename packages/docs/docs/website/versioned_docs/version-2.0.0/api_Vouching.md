---
id: version-2.0.0-Vouching
title: Vouching
original_id: Vouching
---

<div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> Vouching</h2><p class="base-contracts"><span>is</span> <a href="es_zos-lib_contracts_Initializable.html">Initializable</a></p><p class="description">Contract for staking tokens against dependencies.</p><div class="source">Source: <a href="git+https://github.com/zeppelinos/zos/blob/v2.0.0/contracts/Vouching.sol" target="_blank">Vouching.sol</a></div></div><div class="index"><h2>Index</h2><ul><li><a href="Vouching.html#DependencyCreated">DependencyCreated</a></li><li><a href="Vouching.html#DependencyRemoved">DependencyRemoved</a></li><li><a href="Vouching.html#OwnershipTransferred">OwnershipTransferred</a></li><li><a href="Vouching.html#Unvouched">Unvouched</a></li><li><a href="Vouching.html#Vouched">Vouched</a></li><li><a href="Vouching.html#create">create</a></li><li><a href="Vouching.html#getDependency">getDependency</a></li><li><a href="Vouching.html#initialize">initialize</a></li><li><a href="Vouching.html#minimumStake">minimumStake</a></li><li><a href="Vouching.html#onlyDependencyOwner">onlyDependencyOwner</a></li><li><a href="Vouching.html#remove">remove</a></li><li><a href="Vouching.html#token">token</a></li><li><a href="Vouching.html#transferOwnership">transferOwnership</a></li><li><a href="Vouching.html#unvouch">unvouch</a></li><li><a href="Vouching.html#vouch">vouch</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="events"><h3>Events</h3><ul><li><div class="item event"><span id="DependencyCreated" class="anchor-marker"></span><h4 class="name">DependencyCreated</h4><div class="body"><code class="signature">event <strong>DependencyCreated</strong><span>(bytes32 nameHash, string name, address owner, address dependencyAddress, uint256 initialStake) </span></code><hr/><div class="description"><p>Emitted when a new dependency has been created.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>nameHash</code> - bytes32 hash of the name of the dependency.</div><div><code>name</code> - String representing the name of the dependency.</div><div><code>owner</code> - Address that owns the created dependency.</div><div><code>dependencyAddress</code> - Address of the created dependency.</div><div><code>initialStake</code> - uint256 representing the amount vouched in the creation of the dependency.</div></dd></dl></div></div></li><li><div class="item event"><span id="DependencyRemoved" class="anchor-marker"></span><h4 class="name">DependencyRemoved</h4><div class="body"><code class="signature">event <strong>DependencyRemoved</strong><span>(bytes32 nameHash) </span></code><hr/><div class="description"><p>Emitted when a dependency has been removed from the registry.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>nameHash</code> - bytes32 nameHash hash of the name of the dependency.</div></dd></dl></div></div></li><li><div class="item event"><span id="OwnershipTransferred" class="anchor-marker"></span><h4 class="name">OwnershipTransferred</h4><div class="body"><code class="signature">event <strong>OwnershipTransferred</strong><span>(address oldOwner, address newOwner) </span></code><hr/><div class="description"><p>Emitted when the ownership of this contract is transferred.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>oldOwner</code> - Address of the old owner.</div><div><code>newOwner</code> - Address of the new owner.</div></dd></dl></div></div></li><li><div class="item event"><span id="Unvouched" class="anchor-marker"></span><h4 class="name">Unvouched</h4><div class="body"><code class="signature">event <strong>Unvouched</strong><span>(bytes32 nameHash, uint256 amount) </span></code><hr/><div class="description"><p>Emitted when the owner of a dependency removes their vouch.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>nameHash</code> - bytes32 hash of the name of the dependency.</div><div><code>amount</code> - uint256 with the amount of stake that has been removed from the dependency.</div></dd></dl></div></div></li><li><div class="item event"><span id="Vouched" class="anchor-marker"></span><h4 class="name">Vouched</h4><div class="body"><code class="signature">event <strong>Vouched</strong><span>(bytes32 nameHash, uint256 amount) </span></code><hr/><div class="description"><p>Emitted when the owner of a dependency vouches for it.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>nameHash</code> - bytes32 hash of the name of the dependency.</div><div><code>amount</code> - uint256 with the amount vouched on the dependency.</div></dd></dl></div></div></li></ul></div><div class="modifiers"><h3>Modifiers</h3><ul><li><div class="item modifier"><span id="onlyDependencyOwner" class="anchor-marker"></span><h4 class="name">onlyDependencyOwner</h4><div class="body"><code class="signature">modifier <strong>onlyDependencyOwner</strong><span>(string name) </span></code><hr/><div class="description"><p>Modifier that restricts access to the owner of a specific dependency.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>name</code> - String specifying the dependency to restrict access to.</div></dd></dl></div></div></li></ul></div><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="create" class="anchor-marker"></span><h4 class="name">create</h4><div class="body"><code class="signature">function <strong>create</strong><span>(string name, address owner, address dependencyAddress, uint256 initialStake) </span><span>external </span></code><hr/><div class="description"><p>Creates a new dependency and performs an initial vouch.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>name</code> - String that will represent the dependency. Must be unique.</div><div><code>owner</code> - Address that will own the dependency.</div><div><code>dependencyAddress</code> - Address of the dependency.</div><div><code>initialStake</code> - uint256 to be staked initially. Must be larger than or equal to minimumStake.</div></dd></dl></div></div></li><li><div class="item function"><span id="getDependency" class="anchor-marker"></span><h4 class="name">getDependency</h4><div class="body"><code class="signature">function <strong>getDependency</strong><span>(string name) </span><span>public </span><span>view </span><span>returns  (address, address, uint256) </span></code><hr/><div class="description"><p>Tells the dependency associated to a given name.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>name</code> - String representing the dependency.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>Tuple representing the elements of a Dependency struct.</dd></dl></div></div></li><li><div class="item function"><span id="initialize" class="anchor-marker"></span><h4 class="name">initialize</h4><div class="body"><code class="signature">function <strong>initialize</strong><span>(uint256 minimumStake, ERC20 token) </span><span>public </span></code><hr/><div class="description"><p>Initializer function. Called only once when a proxy for the contract is created.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="es_zos-lib_contracts_Initializable.html#initializer">initializer </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>minimumStake</code> - uint256 that defines the minimum initial amount of vouched tokens a dependency can have when being created.</div><div><code>token</code> - ERC20 token to be used for vouching on dependencies.</div></dd></dl></div></div></li><li><div class="item function"><span id="minimumStake" class="anchor-marker"></span><h4 class="name">minimumStake</h4><div class="body"><code class="signature">function <strong>minimumStake</strong><span>() </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Tells the the initial minimum amount of vouched tokens a dependency can have when being created.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>A uint256 number with the minimumStake value.</dd></dl></div></div></li><li><div class="item function"><span id="remove" class="anchor-marker"></span><h4 class="name">remove</h4><div class="body"><code class="signature">function <strong>remove</strong><span>(string name) </span><span>external </span></code><hr/><div class="description"><p>Removes a dependency from the registry. Can only be performed by the dependency owner.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="Vouching.html#onlyDependencyOwner">onlyDependencyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>name</code> - String representing the dependency.</div></dd></dl></div></div></li><li><div class="item function"><span id="token" class="anchor-marker"></span><h4 class="name">token</h4><div class="body"><code class="signature">function <strong>token</strong><span>() </span><span>public </span><span>view </span><span>returns  (ERC20) </span></code><hr/><div class="description"><p>Tells the ERC20 token being used for vouching.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>The address of the ERC20 token being used for vouching.</dd></dl></div></div></li><li><div class="item function"><span id="transferOwnership" class="anchor-marker"></span><h4 class="name">transferOwnership</h4><div class="body"><code class="signature">function <strong>transferOwnership</strong><span>(string name, address newOwner) </span><span>external </span></code><hr/><div class="description"><p>Transfers ownership of a dependency. Can only be called by the current owner of the dependency.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="Vouching.html#onlyDependencyOwner">onlyDependencyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>name</code> - String representing the dependency.</div><div><code>newOwner</code> - Address of the new owner.</div></dd></dl></div></div></li><li><div class="item function"><span id="unvouch" class="anchor-marker"></span><h4 class="name">unvouch</h4><div class="body"><code class="signature">function <strong>unvouch</strong><span>(string name, uint256 amount) </span><span>external </span></code><hr/><div class="description"><p>Removes vouched tokens from a given dependency. Can only be performed by the dependency owner.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="Vouching.html#onlyDependencyOwner">onlyDependencyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>name</code> - String that represents the dependency.</div><div><code>amount</code> - uint256 with the amount that is to be removed from the vouch.</div></dd></dl></div></div></li><li><div class="item function"><span id="vouch" class="anchor-marker"></span><h4 class="name">vouch</h4><div class="body"><code class="signature">function <strong>vouch</strong><span>(string name, uint256 amount) </span><span>external </span></code><hr/><div class="description"><p>Stakes tokens for a given dependency. Can only be performed by the dependency owner.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="Vouching.html#onlyDependencyOwner">onlyDependencyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>name</code> - String that represents the dependency.</div><div><code>amount</code> - uint256 with the amount that is to be vouched.</div></dd></dl></div></div></li></ul></div></div></div>
